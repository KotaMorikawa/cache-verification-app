# タスク完了時のチェックリスト

## 必須実行コマンド

### コード品質チェック
```bash
# 1. リントチェック（エラーがないことを確認）
npm run lint

# 2. コードフォーマット（自動修正適用）
npm run format

# 3. TypeScriptコンパイルチェック
npx tsc --noEmit
```

### ビルドテスト
```bash
# 4. 本番ビルドテスト（Turbopack使用）
npm run build

# 5. 本番サーバー起動テスト
npm run start
```

## キャッシュ検証プロジェクト固有のチェック

### 検証用テスト実行
```bash
# クリーンビルド（キャッシュクリア）
rm -rf .next && npm run build

# 本番環境でのキャッシュ動作確認
npm run start
```

### 検証項目
- [ ] 各ケース（case1-5）が正常に表示される
- [ ] TestPanelコンポーネントのボタンが動作する
- [ ] API Routesが正常にレスポンスを返す
- [ ] Server Actionsが動作する
- [ ] ダッシュボードで全ケースの比較ができる
- [ ] revalidateTagが適切に動作する

## コミット前チェック

### Git作業
```bash
# 変更確認
git status
git diff

# ステージング
git add .

# コミット（適切なメッセージで）
git commit -m "feat: 新機能追加"
```

### 品質保証
- [ ] すべてのリントエラーが解決済み
- [ ] TypeScriptエラーがない
- [ ] ビルドが成功する
- [ ] 本番環境で正常に動作する
- [ ] 既存機能に影響がない

## プロジェクト固有の完了基準

### Next.js 15キャッシュ検証プロジェクトの場合
- [ ] 5つの検証ケースがすべて実装されている
- [ ] 各ケースで期待される動作を確認
- [ ] サーバーログとクライアント表示の一致を確認
- [ ] キャッシュの有無が設定通りに動作することを確認
- [ ] revalidateTagが適切なケースでのみ機能することを確認

## デプロイ前チェック（該当する場合）
```bash
# 環境変数確認（本番用）
echo $NODE_ENV

# セキュリティチェック（機密情報の確認）
grep -r "secret\|password\|key" src/ --exclude-dir=node_modules
```

## 注意事項
- **開発環境と本番環境の差異**: キャッシュ検証は必ず本番ビルドで行う
- **HMRキャッシュの影響**: 開発環境（npm run dev）での検証結果は参考程度に留める
- **Turbopack**: ビルド時間は短縮されるが、動作確認は入念に行う